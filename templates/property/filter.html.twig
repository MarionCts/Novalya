{% extends 'base.html.twig' %}

{% block title %}Novalya |
	{{ 'propertyFilter.pageTitle'|trans }}
{% endblock %}

{% block body %}
	<main class="admin-pages__container px-100">

		<section class="template__hero">
			<div class="template__hero__bg filter__bg"></div>
			<div class="template__hero--text">
				<h1 class="title title__primary">{{ 'propertyFilter.mainTitle'|trans }}
					<span class="title title__primary accent line-jump">{{ 'propertyFilter.mainAccent'|trans }}</span>
				</h1>
				<p>{{ 'propertyFilter.descriptionOne'|trans }}</p>
				<p>{{ 'propertyFilter.descriptionTwo'|trans }}</p>
				<a href="{{ path('app_contact_index') }}" class="button button__primary about__link">{{ 'contactBtn'|trans }}</a>
			</div>
		</section>

		<section class="filter__filter">

			<p>
				<span>

						{{ properties|length }}

					{{ 'propertyFilter.results'|trans }}</span>
				{{ 'propertyFilter.resultCount'|trans }}</p>

		</section>

		<section class="filter__properties mt-35">

			<div class="cards">
				{% for property in properties %}
					{% if property.status.value == "Published" %}
						<div class="card__container">
							<div class="card__image">
								{% for image in property.propertyImages %}
									{# Selects only the featured image among all the pictures related to this property #}
									{% if image.property.id == property.id and image.isFeatured == false %}
										<img src="{{ asset(image.url) }}" alt=""></div>
								{% endif %}
							{% endfor %}
							<div class="card__content">
								<button class="card__content--favorite">
									<svg class="favorite-none favorite-toggle" width="100%" height="100%" viewbox="0 0 30 27" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M21.696,0.85l0.001,-0.15l0.147,-0l0.001,0.003l0.003,0.001c4.122,0.081 7.452,3.44 7.452,7.562c0,3.587 -1.76,6.376 -4.356,9.098c-1.285,1.349 -2.78,2.687 -4.371,4.104c-1.586,1.412 -3.269,2.904 -4.942,4.57c-0.351,0.349 -0.92,0.349 -1.27,-0c-2.068,-2.059 -4.15,-3.853 -6.045,-5.558c-1.902,-1.711 -3.617,-3.335 -4.928,-5.035c-1.83,-2.374 -2.688,-4.659 -2.688,-7.179c-0,-4.173 3.408,-7.566 7.597,-7.566c1.757,-0 3.11,0.425 4.223,1.206c0.982,0.689 1.767,1.651 2.476,2.826c0.709,-1.175 1.494,-2.137 2.476,-2.826c1.113,-0.781 2.466,-1.206 4.223,-1.206l0,0.15l0.001,-0Zm-0.001,1.642c-1.366,-0 -2.407,0.278 -3.313,0.965c-0.923,0.7 -1.723,1.829 -2.583,3.542c-0.331,0.659 -1.275,0.658 -1.606,-0c-0.86,-1.713 -1.66,-2.842 -2.582,-3.542c-0.907,-0.687 -1.948,-0.965 -3.314,-0.965c-3.199,0 -5.8,2.59 -5.8,5.774c-0,3.014 1.529,5.426 3.876,7.886c1.186,1.243 2.575,2.491 4.077,3.83c1.442,1.284 2.985,2.65 4.546,4.165c1.563,-1.517 3.108,-2.884 4.551,-4.169c1.503,-1.339 2.894,-2.587 4.08,-3.83c2.348,-2.459 3.876,-4.869 3.876,-7.882c0,-3.183 -2.605,-5.774 -5.808,-5.774Z"/></svg>
									<svg class="favorite-done" width="100%" height="100%" viewbox="0 0 30 27" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M21.696,0.85l0.001,-0.15l0.147,-0l0.001,0.003l0.003,0.001c4.122,0.081 7.452,3.44 7.452,7.562c0,3.587 -1.76,6.376 -4.356,9.098c-1.285,1.349 -2.78,2.687 -4.371,4.104c-1.586,1.412 -3.269,2.904 -4.942,4.57c-0.351,0.349 -0.92,0.349 -1.27,-0c-2.068,-2.059 -4.15,-3.853 -6.045,-5.558c-1.902,-1.711 -3.617,-3.335 -4.928,-5.035c-1.83,-2.374 -2.688,-4.659 -2.688,-7.179c-0,-4.173 3.408,-7.566 7.597,-7.566c1.757,-0 3.11,0.425 4.223,1.206c0.982,0.689 1.767,1.651 2.476,2.826c0.709,-1.175 1.494,-2.137 2.476,-2.826c1.113,-0.781 2.466,-1.206 4.223,-1.206l0,0.15l0.001,-0Z"/></svg>
								</button>
								<div class="card__content--text">
									<h4 class="title title__tertiary">{{ property.name }}</h4>
									<div class="text__specs">
										<p class="paragraph__small">{{ property.city }}</p>
										<p class="paragraph__small">{{ property.bedroomNumber }}
											{{ 'homePage.services.bedrooms'|trans }}
											|
											{{ property.indoorSurface }}
											mÂ²</p>
									</div>
									<div class="text__price">
										<p class="card__price">{{ property.price|format_currency('EUR', {fraction_digit: 0}) }}</p>
										<a href="{{ path('app_property_show', {'id': property.id}) }}" class="button button__primary__opposite">
											<svg width="100%" height="100%" viewbox="0 0 18 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M1,7l13.586,0l-4.657,-4.657c-0.391,-0.39 -0.391,-1.024 -0,-1.414c0.39,-0.391 1.024,-0.391 1.414,-0l6.364,6.364c0.391,0.39 0.391,1.024 0,1.414l-6.364,6.364c-0.39,0.391 -1.024,0.391 -1.414,0c-0.391,-0.391 -0.391,-1.024 -0,-1.414l4.657,-4.657l-13.586,-0c-0.552,-0 -1,-0.448 -1,-1c0,-0.552 0.448,-1 1,-1Z"/></svg>
										</a>
									</div>
								</div>
							</div>
						</div>
					{% endif %}
				{% endfor %}
			</div>

		</section>

	</main>

	{# FOOTER #}
	{% block footer %}
		{% include 'layout/footer.html.twig' %}
	{% endblock %}
{% endblock %}
